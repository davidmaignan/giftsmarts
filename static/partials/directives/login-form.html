<form name="loginForm" novalidate class="form" ng-submit="submitted=true;submit(loginForm)">
    <div class="form-group" ng-class="{ 'has-error': submitted && loginForm.username.$invalid }">
        <label for="username">Username</label>
        <input id="username" name="username" type="text" class="form-control" ng-model="login.username" placeholder="" required />
        <div class="help-block" class="help-block" ng-messages="loginForm.username.$error" ng-if="submitted">
            <p ng-message="required">Username required!</p>
        </div>
    </div>
    <div class="form-group" ng-class="{ 'has-error': submitted && loginForm.password.$invalid }">
        <label for="password">Password</label>
        <input id="password" name="password" type="password" class="form-control" ng-model="login.password" placeholder="" required />
        <div class="help-block" class="help-block" ng-messages="loginForm.password.$error" ng-if="submitted">
            <p ng-message="required">Password required!</p>
        </div>
    </div>
    <div class="form-group" ng-if="!sent">
        <input class="btn" type="submit" value="Login" />
    </div>
    <div class="form-group" ng-if="sent">
        <input disabled class="btn" type="submit" value="Authenticating..." />
    </div>

    <div ng-show="success">
        yeah, youre in!
    </div>
</form>